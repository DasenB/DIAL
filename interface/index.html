<!DOCTYPE html>
    <head>
        <meta charset="utf-8">
        <title>DIAL</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
        <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
        <script src="assets/libraries/victor.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/keymap/sublime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/javascript/javascript.min.js"></script>

    <link href="styles/main.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="scripts/action.js"></script>
    <script type="text/javascript" src="scripts/timeline.js"></script>
    <script type="text/javascript" src="scripts/graph.js"></script>
    <script type="text/javascript" src="scripts/editor.js"></script>
    <script type="text/javascript" src="scripts/table.js"></script>
    <script type="text/javascript" src="scripts/warning.js"></script>
    <script type="text/javascript" src="scripts/dial.js"></script>


    </head>

    <body>
        <dial-simulator></dial-simulator>
        <script type="text/javascript">
            // const obj = {
            //     source: 4,
            //     target: 2,
            //     data: "{ 'test': 'Hello World' }",
            //     uuid: "d0bf966e-6ad0-4bb3-96cd-4bf2b2c6bce5",
            //     color: "#2d96ff"
            // };
            // const obj2 = {
            //     source: 2,
            //     target: 1,
            //     data: "{ 'test': 'Hello World' }",
            //     uuid: "d7d920a8-94ec-4152-b024-bce669c1895d",
            //     color: "#7aff2d"
            // };
            // const obj3 = {
            //     source: 2,
            //     target: 5,
            //     data: "{ 'test': 'Hello World' }",
            //     uuid: "098eaec4-2be5-49de-b9f6-0460b101c39a",
            //     color: "#7aff2d"
            // };
            // const message = new DialMessage(obj);
            // const message2 = new DialMessage(obj2);
            // const message3 = new DialMessage(obj3);
            //
            // const receiveMessageEvent = new CustomEvent('receiveMessage', {
            //     detail: message,
            //     bubbles: true,
            //     cancelable: true,
            //     composed: true,
            // });
            // const emitMessageEvent = new CustomEvent('emitMessage', {
            //     detail: message2,
            //     bubbles: true,
            //     cancelable: true,
            //     composed: true,
            // });
            // const emitMessageEvent2 = new CustomEvent('emitMessage', {
            //     detail: message3,
            //     bubbles: true,
            //     cancelable: true,
            //     composed: true,
            // });
            //
            //
            // const startTimelineEvent = new CustomEvent('timelineStartAction', {
            //     detail: {},
            //     bubbles: true,
            //     cancelable: true,
            //     composed: true,
            // });
            // const finishTimelineEvent = new CustomEvent('timelineFinishAction', {
            //     detail: {},
            //     bubbles: true,
            //     cancelable: true,
            //     composed: true,
            // });
            //
            //
            //
            // setTimeout(function () {
            //     window.dispatchEvent(receiveMessageEvent);
            //     window.dispatchEvent(startTimelineEvent);
            //     document.getElementById("warning").alert("Receive next message.")
            //
            // }, 3000);
            // setTimeout(function () {
            //     window.dispatchEvent(emitMessageEvent);
            //     window.dispatchEvent(emitMessageEvent2);
            //     window.dispatchEvent(finishTimelineEvent);
            //     document.getElementById("warning").alert("Emit next messages.")
            // }, 9000);
            //
            //
            // Promise.all([
            //     fetch("https://localhost:10101/topology").then(response => response.json()),
            //     fetch("https://localhost:10101/messages").then(response => response.json()),
            //     fetch("https://localhost:10101/program_details/").then(response => response.json()),
            //     fetch("https://localhost:10101/programs").then(response => response.json())
            //
            // ]).then(data => {
            //     const processes = Object.keys(data[0].processes);
            //     var instances = [];
            //     Object.keys(data[2]).forEach(key => {
            //         instances = instances.concat(data[2][key].instances);
            //     });
            //     var messages = data[1].messages.map(message => {
            //         return message.uuid;
            //     });
            //     messages.splice(0, data[1].position);
            //     const programs = Object.keys(data[3]);
            //     document.getElementById("table").display({
            //         "title": "Simulator",
            //         "tables": [
            //             {
            //                 "title": "Processes",
            //                 "data": processes
            //             },
            //             {
            //                 "title": "Programs",
            //                 "data": programs
            //             },
            //             {
            //                 "title": "Instances",
            //                 "data": instances
            //             },
            //             {
            //                 "title": "Messages",
            //                 "data": messages
            //             }
            //         ]
            //     });
            // })
            // document.getElementById("table").display([
            //     {
            //         "title": "Processes",
            //         "data": [
            //             ["localhost:10101/Process 11"],
            //             ["localhost:10101/Process 12"],
            //             ["localhost:10101/Process 13"],
            //             ["localhost:10101/Process 14"],
            //             ["localhost:10101/Process 15"]
            //         ]
            //     },
            //     {
            //         "title": "Messages",
            //         "data": [
            //             ["Hi", "Ho"],
            //             ["Pi", "Po"],
            //             ["Li", "Lo"],
            //             ["Mi", "Mo"],
            //             ["Gi", "Go"],
            //         ]
            //     }
            // ]);


            // const runActionEvent = new CustomEvent('runAction', {
            //     bubbles: true,
            //     cancelable: true,
            //     composed: true,
            // });
            // setTimeout(function () {
            //     window.dispatchEvent(runActionEvent);
            //     console.log("RunAction-Dispatch");
            // }, 500);

        </script>
    </body>
</html>